
## Last commit: 2020-03-23 01:16:06 UTC by root
version 20191212.201431_builder.r1074901;
groups {
    GLOBAL_ISIS_DEFAULTS {
        protocols {
            isis {
                level 1 disable;
                level 2 wide-metrics-only;
                interface <*> {
                    hello-padding disable;
                }
                reference-bandwidth 1000g;
            }
        }
    }
}
system {
    host-name leaf4;
    root-authentication {
        encrypted-password "$6$oNMNWj54$rs.6ZaAstAVFLq3G1CoQtvdvupVsL0oxxamAdcBNMVJznLerdBckQO60X2xC/EOisCGvzZBPVoZLcJtVFtPYN0";
        ssh-rsa "ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEA6NF8iallvQVp22WDkTkyrtvp9eWW6A8YVr+kz4TjGYe7gHzIw+niNltGEFHzD8+v1I2YJ6oXevct1YeS0o9HZyN1Q9qgCgzUFtdOKLv6IedplqoPkcmF0aYet2PkEDo3MlTBckFXPITAMzF8dJSIFo9D8HfdOV0IAdx4O7PtixWKn5y2hMNG0zQPyUecp4pzC6kivAIhyfHilFR61RGL+GPXQ2MWZWFYbAGjyiYJnAmCP3NOTd0jMZEnDkbUvxhMmBYSdETk1rRgm+R4LOzFUGaHqHDLKLX+FIPKcF96hrucXzcWyLbIbEgE98OHlnVYCzRdK8jlqm8tehUc9c9WhQ== vagrant insecure public key";
    }
    login {
        user nornir {
            uid 2001;
            class super-user;
            authentication {
                encrypted-password "$6$DCyoMC6o$8NzXXdAIX4pD93DMgfO/2gyltgXhqFbngkYTGhksksLIbJuvGjXn8IcQQahRBXkkBUWJgbGb9mweZikl1bzAX1";
            }
        }
        user vagrant {
            uid 2000;
            class super-user;
            authentication {
                ssh-rsa "ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEA6NF8iallvQVp22WDkTkyrtvp9eWW6A8YVr+kz4TjGYe7gHzIw+niNltGEFHzD8+v1I2YJ6oXevct1YeS0o9HZyN1Q9qgCgzUFtdOKLv6IedplqoPkcmF0aYet2PkEDo3MlTBckFXPITAMzF8dJSIFo9D8HfdOV0IAdx4O7PtixWKn5y2hMNG0zQPyUecp4pzC6kivAIhyfHilFR61RGL+GPXQ2MWZWFYbAGjyiYJnAmCP3NOTd0jMZEnDkbUvxhMmBYSdETk1rRgm+R4LOzFUGaHqHDLKLX+FIPKcF96hrucXzcWyLbIbEgE98OHlnVYCzRdK8jlqm8tehUc9c9WhQ== vagrant insecure public key";
            }
        }
    }
    services {
        ssh {
            root-login allow;
        }
        netconf {
            ssh;
        }
        rest {
            http {
                port 8080;
            }
            enable-explorer;
        }
    }
    syslog {
        user * {
            any emergency;
        }
        file messages {
            any notice;
            authorization info;
        }
        file interactive-commands {
            interactive-commands any;
        }
    }
    extensions {
        providers {
            juniper {
                license-type juniper deployment-scope commercial;
            }
            chef {
                license-type juniper deployment-scope commercial;
            }
        }
    }
}
chassis {
    aggregated-devices {
        ethernet {
            device-count 64;
        }
    }
}
interfaces {
    xe-0/0/1 {
        unit 0 {
            family inet {
                address 10.2.14.1/31;
            }
            family iso;
        }
    }
    xe-0/0/4 {
        unit 0 {
            family inet {
                address 10.1.14.1/31;
            }
            family iso;
        }
    }
    em0 {
        unit 0 {
            family inet {
                address 10.255.111.14/17;
            }
        }
    }
    em1 {
        unit 0 {
            family inet {
                address 169.254.0.2/24;
            }
        }
    }
    lo0 {
        unit 0 {
            family inet {
                address 192.168.200.14/32;
            }
            family iso {
                address 49.0192.0168.0200.0014.00;
            }
        }
    }
}
forwarding-options {
    storm-control-profiles default {
        all;
    }
}
policy-options {
    prefix-list PREFIX_DEFAULT {
        0.0.0.0/0;
    }
    prefix-list PREFIX_LOOPBACK_IPV4 {
        apply-path "interfaces lo0 unit <*> family inet address <*>";
    }
    policy-statement EVPN_IMPORT {
        term EVPN_ROUTES {
            from community ESI;
            then accept;
        }
    }
    policy-statement POLICY_DEFAULT {
        from {
            prefix-list PREFIX_DEFAULT;
        }
        then accept;
    }
    policy-statement POLICY_EXPORT_ROUTER_IPV4 {
        from {
            prefix-list PREFIX_LOOPBACK_IPV4;
        }
        then accept;
    }
    policy-statement POLICY_LB {
        term 10 {
            then {
                load-balance per-packet;
                accept;
            }
        }
    }
    community ESI members target:999:999;
}
routing-options {
    forwarding-table {
        export POLICY_LB;
        ecmp-fast-reroute;
    }
    router-id 192.168.200.14;
    autonomous-system 100.0;
}
protocols {
    isis {
        apply-groups GLOBAL_ISIS_DEFAULTS;
        interface xe-0/0/1.0 {
            point-to-point;
        }
        interface xe-0/0/4.0 {
            point-to-point;
        }
        interface lo0.0 {
            passive;
        }
        export POLICY_EXPORT_ROUTER_IPV4;
    }
    evpn {
        encapsulation vxlan;
        extended-vni-list all;
    }
    bgp {
        group LEAF_EVPN_OVERLAY {
            type internal;
            local-address 192.168.200.14;
            family evpn {
                signaling;
            }
            multipath;
            neighbor 192.168.200.1;
            neighbor 192.168.200.2;
        }
    }
    igmp-snooping {
        vlan default;
    }
}
switch-options {
    vtep-source-interface lo0.0;
    route-distinguisher 192.168.200.14:999;
    vrf-import EVPN_IMPORT;
    vrf-target {
        target:999:999;
        auto {
            import-as 100.0 {
                vni-list all;
            }
        }
    }
}
vlans {
    redtail_dc {
        vlan-id 100;
        vxlan {
            vni 5100;
        }
    }
}
